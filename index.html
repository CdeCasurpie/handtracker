<!DOCTYPE html>
<html>
<head>
    <title>Detector de Manos - Refactorizado</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="full-container">
        <div id="videoContainer" class="left">
            <video id="webcam" playsinline autoplay muted></video>
        </div>
        
        <div id="videoContainer" class="right" style="display: none;">
            <video id="webcam2" playsinline autoplay muted></video>
        </div>
        
        <canvas id="output_canvas" class="left"></canvas>
        <canvas id="output_canvas2" class="right" style="display: none;"></canvas>
        
        <div class="vr-divider"></div>
        
        <div class="top-controls">
            <div id="status">Verificando compatibilidad...</div>
        </div>
        
        <div id="fps">FPS: 0</div>
        
        <div id="performanceControls">
            <div class="slider-container">
                <label for="modelComplexity">Complejidad: <span id="complexityValue">1</span></label>
                <input type="range" id="modelComplexity" min="0" max="1" step="1" value="0">
            </div>
            <div class="slider-container">
                <label for="renderFps">FPS Máximo: <span id="fpsValue">15</span></label>
                <input type="range" id="renderFps" min="5" max="30" step="5" value="15">
            </div>
        </div>
        
        <button id="vrModeBtn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M20.74 6H3.26C2.56 6 2 6.56 2 7.26v9.47c0 .7.56 1.26 1.26 1.26h17.48c.7 0 1.26-.56 1.26-1.26V7.26c0-.7-.56-1.26-1.26-1.26zM11 13h-4v-2h4v2zm3.5 2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
            </svg>
        </button>
        
        <button id="switchCameraBtn" disabled>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"/>
            </svg>
        </button>
        
        <button id="fullscreenBtn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
            </svg>
        </button>
        
        <div class="controls">
            <button id="startBtn" disabled>Iniciar</button>
            <button id="stopBtn" disabled>Detener</button>
        </div>
    </div>

    <!-- Importar MediaPipe desde CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1646424915/hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3/camera_utils.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils@0.3/drawing_utils.min.js"></script>

    <!-- Importar módulos JS -->
    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/camera.js"></script>
    <script src="js/hands.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/app.js"></script>
</body>
</html>